/*
 * void imgproc_mirror_h( struct Image *input_img, struct Image *output_img );
 *
 * Transform image by mirroring its pixels horizontally.
 * This transformation always succeeds.
 *
 * Parameters:
 *   %rdi - pointer to original struct Image
 *   %rsi - pointer to output struct Image
 */
	.globl imgproc_mirror_h
imgproc_mirror_h:
	/*Prologue: */
	pushq %rbp /*call + 1 8-byte push = aligned*/
	movq %rsp, %rbp

	
/*NOTES: Must use 64-bit versions of the registers if I'm only operating on 32 bits of them (?) */

	movq $0, %r10 /*outer loop counter*/
	movq $0, %r11 /*inner loop counter*/

	.LOuterLoop:
		cmpq 4(%rdi), %r10 /* cmp height : curRow */ 
		jge .LOuterLoopDone


		.LInnerLoopDone:
			incq %r10 /* outer counter++ */
			movq $0, %r11 /* reset inner counter */
			jmp .LOuterLoop /*next outer iter*/
    /* epilogue.*/
	popq %r12  /*pop callee-saved registers (local vars)*/
	popq %rbp
	ret